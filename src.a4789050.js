parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"w0rA":[function(require,module,exports) {
var define;
var global = arguments[3];
var t,n=arguments[3];!function(n,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof t&&t.amd?t(o):n.microcan=o()}(this,function(){"use strict";const t=(t,n)=>{const o=(...e)=>{if(e.length>=t.length)return t(...e);const i=(...t)=>o(...e,...t);return n&&(i.toString=function(){return n}),i};return n&&(o.toString=function(){return n}),o},n=2*Math.PI,o=[0,0,0,0];return function(e,[i,r]){let s=i,l=r,c=e;const u=[];let a={size:14,font:"Arial",modifier:""},f=[0,0,0,1],p=[0,0,0,1],h=[];function d(t,n,o){c.font=`${o?o+" ":""}${t}px ${a}`,a.font=a,a.modifier=o,a.size=t}function g([t,n,o,e]){c.fillStyle=`rgba(${t}, ${n}, ${o}, ${e})`,p=[t,n,o,e]}function m([t,n,o,e]){c.strokeStyle=`rgba(${t}, ${n}, ${o}, ${e})`,f=[t,n,o,e]}function y(t){c.setLineDash(t),h=t}function b(t){c.lineWidth=t}function P(t){return{type:"polygon",points:t}}c.canvas.width=i,c.canvas.height=r;const V=t(function(t,o,[e,i]){const r=n/t;return P(Array.from(Array(t),(t,n)=>[e+Math.cos(r*n)*o,i+Math.sin(r*n)*o]))},"poly(n:Number, radius:Number, position:Vector)"),k=t(function(t,o,[e,i]){const r=t%2==0?-n/(2*t):Math.PI/(2*t),s=n/t+r;return P(Array.from(Array(t),(t,n)=>[e+Math.cos(s*n)*o,i+Math.sin(s*n)*o]))},"alignedPolygon(n:Number, radius:Number, position:Vector)"),$=t(function([t,n],[o,e]){const i=t/2,r=n/2;return P([[o-i,e-r],[o+i,e-r],[o+i,e+r],[o-i,e+r]])},"rect(dimensions:Vector, position:Vector)"),w=t(function(t,n){return $([t,t],n)},"square(sideLength:Number, position:Vector)"),x=t(function(t,n){return P([t,n])},"line(v1:Vector, v2:Vector)"),T=t(function(t,n,o,e){return{type:"ellipse",rotation:t,radius:n,angle:o,position:e}},"fullEllipse(rotation:Number, radius:Vector, angle:Vector, position:Vector)"),N=t(function(t,o,e){return T(t,o,[0,n],e)},"ellipse(rotation:Number, radius:Vector, position:Vector)"),v=t(function(t,o){return T(0,[t,t],[0,n],o)},"circle(radius:Number, position:Vector)"),S=t(function(t,n,o){return T(0,[t,t],n,o)},"arc(radius:Number, angle:Vector, position:Vector)");function A(t){const{rotation:n,radius:o,angle:e,position:i}=t;c.beginPath(),c.ellipse(...i,...o,n,...e,!1),c.stroke(),c.fill(),c.closePath()}function E(t){const{points:n}=t;c.beginPath(),c.moveTo(...n[0]);for(let o=1;o<n.length;o++)c.lineTo(...n[o]);c.lineTo(...n[0]),c.closePath(),c.stroke(),c.fill()}const C=t(function(t,n){return P(n.points.map(t))},"mapPolygon(fn:Function, polygon:Polygon)"),F=t(function(t,n){const{radius:o,angle:e,rotation:i}=n;return T(i,o,e,t(n))},"mapPosition(fn:Function, ellipse:Ellipse)"),M=t(function(t,n){const{radius:o,angle:e,position:i}=n;return T(t(n),o,e,i)},"mapRotation(fn:Function, ellipse:Ellipse)"),W=t(function(t,n){const{radius:o,position:e,rotation:i}=n;return T(i,o,t(n),e)},"mapAngle(fn:Function, ellipse:Ellipse)"),z=t(function(t,n){const{angle:o,position:e,rotation:i}=n;return T(i,t(n),o,e)},"mapRadius(fn:Function, ellipse:Ellipse)");return{setWidthHeight:function([t,n]){s=t,l=n,c.canvas.width=t,c.canvas.height=n},setCtx:function(t){c=t},fill:g,stroke:m,noStroke:function(){m(o),f=o},noFill:function(){g(o),p=o},dash:y,noDash:function(){c.setLineDash([]),h=[]},background:function([t,n,o,e]){const i=c.fillStyle;c.fillStyle=`rgba(${t}, ${n}, ${o}, ${e})`,c.fillRect(0,0,s,l),c.fillStyle=i},strokeWeight:b,polygon:P,poly:V,alignedPoly:k,rect:$,square:w,line:x,fullEllipse:T,ellipse:N,circle:v,arc:S,drawEllipse:A,drawArc:function(t){const{radius:n,angle:o,position:e}=t;c.beginPath(),c.arc(...e,n[0],...o,!1),c.stroke(),c.fill(),c.closePath()},drawPolygon:E,drawShape:function(t){switch(t.type){case"ellipse":return A(t);case"polygon":return E(t)}},drawLine:function(t){const{points:[[n,o],[e,i]]}=t;c.beginPath(),c.moveTo(n,o),c.lineTo(e,i),c.stroke(),c.closePath()},mapPolygon:C,mapPosition:F,mapRotation:M,mapAngle:W,mapRadius:z,text:function(t,n){c.fillText(t,...n),c.strokeText(t,...n)},centeredText:function(t,n){const o=c.measureText(t);c.fillText(t,n[0]-o.width/2,n[1]+a.size/4),c.strokeText(t,n[0]-o.width/2,n[1]+a.size/4)},setFont:d,font:a,strokeColor:f,fillColor:p,dashVector:h,push:function(){u.push({font:a,strokeColor:f,fillColor:p,dashVector:h,strokeWeight:c.lineWidth})},pop:function(){const t=u.pop();if(!t)throw new Error("No stack to pop");d(t.font.size,t.font.font,t.font.modifier),m(t.strokeColor),g(t.fillColor),y(t.dashVector),b(t.strokeWeight)},ctx:c}}});
},{}],"H99C":[function(require,module,exports) {
var e=require("microcan-fp"),t=500,n=500,r=["triangle","square","sawtooth","sine"],o=document.getElementById("codeInput"),a=document.getElementById("main"),i=a.getContext("2d"),c=new AudioContext,u=c.createGain();u.connect(c.destination);var l=c.createOscillator();l.connect(u),l.type=r[0],l.frequency.setValueAtTime(880,c.currentTime),u.gain.setValueAtTime(.1,c.currentTime),l.start(),Object.getOwnPropertyNames(Math).forEach(function(e){window[e]=Math[e]}),window.T=function(e,t){return e*Math.pow(1.059463,t)},location.hash&&(o.value=decodeURIComponent(location.hash.slice(1)));var s=new Function("b","i","t","o","return "+o.value);o.addEventListener("keydown",function(e){if("Enter"===e.key){s=new Function("t","i","b","o","return "+e.target.value);var t=encodeURIComponent(e.target.value);window.location.hash=t}});var d=16,f=t/d/2,h=4*f,m=e(i,[t,n]),v=function(e,t){return m.drawShape(m.rect(e,t))},g=function(e,t){return m.drawEllipse(m.circle(e,t))},p=0,w=0,y=!1,k=0,N=0,T=function e(){m.background([0,0,0,1]),m.noFill(),m.stroke([255,255,255,1]);var t=Math.floor(p/4),n=p%4;if(w%10==0){var o;try{o=s(c.currentTime,p,t,n)}catch(A){o=NaN}var a=!1;if((Number.isNaN(o)||"number"!=typeof o)&&(y||(l.disconnect(u),y=!0),a=!0),o===1/0&&(k=(k+1)%r.length,l.type=r[k],a=!0),o===-1/0&&(k=k-1==-1?r.length-1:k-1,l.type=r[k],a=!0),!a){y&&(l.connect(u),y=!1);var i=o;l.frequency.setValueAtTime(i,c.currentTime)}N=o,p=(p+1)%64}for(var f=0;f<d;f++){var T=floor(f/2)*h;m.strokeWeight(6),v([4*h*.99,.99*h],[2*h,T+h/2]),v([4*h*.99,.99*h],[6*h,T+h/2]),m.strokeWeight(.5);for(var b=0;b<4;b++){var E=f%2==0?b*h:4*h+b*h;if(v([h,h],[E+h/2,T+h/2]),f===t&&b===n){if(m.push(),!Number.isNaN(N)){var F=N>0?[255,255,255,1]:[255,34,68,1],q=h/2;N===1/0?(m.noFill(),m.strokeWeight(8),m.stroke(F)):N===-1/0?(m.noFill(),m.strokeWeight(8),m.stroke(F)):(m.noStroke(),m.fill(F)),g(.8*q,[E+h/2,T+h/2])}m.pop()}}}w++,requestAnimationFrame(e)};T();
},{"microcan-fp":"w0rA"}]},{},["H99C"], null)
//# sourceMappingURL=https://francisrstokes.github.io/bito/src.a4789050.js.map